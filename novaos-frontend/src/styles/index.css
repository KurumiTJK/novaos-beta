/* ═══════════════════════════════════════════════════════════════════════════════
   GLOBAL STYLES — NovaOS PWA
   ═══════════════════════════════════════════════════════════════════════════════ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────────────────────────────────────────
   BASE STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

@layer base {
  :root {
    color-scheme: dark;
    
    /* Stance Colors */
    --color-control: 239, 68, 68;
    --color-shield: 245, 158, 11;
    --color-lens: 59, 130, 246;
    --color-sword: 16, 185, 129;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-gray-950 text-white;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
    overscroll-behavior-y: none;
  }

  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-700 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-600;
  }

  /* Selection */
  ::selection {
    @apply bg-blue-500/30 text-white;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   COMPONENT STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

@layer components {
  /* Safe Area Insets */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Glass Morphism */
  .glass {
    @apply bg-gray-900/80 backdrop-blur-xl border border-gray-800/50;
  }

  /* Glow Effects */
  .glow-control {
    box-shadow: 0 0 20px rgba(var(--color-control), 0.3);
  }

  .glow-shield {
    box-shadow: 0 0 20px rgba(var(--color-shield), 0.3);
  }

  .glow-lens {
    box-shadow: 0 0 20px rgba(var(--color-lens), 0.3);
  }

  .glow-sword {
    box-shadow: 0 0 20px rgba(var(--color-sword), 0.3);
  }

  /* Pulse Animation (Control Mode) */
  .pulse-control {
    animation: pulse-control 2s ease-in-out infinite;
  }

  @keyframes pulse-control {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(var(--color-control), 0.4);
    }
    50% {
      box-shadow: 0 0 0 10px rgba(var(--color-control), 0);
    }
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   UTILITY STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

@layer utilities {
  /* Text Gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500;
  }

  /* Hide Scrollbar */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Button Press Effect */
  .press-effect {
    @apply active:scale-[0.98] transition-transform;
  }

  /* Card Hover */
  .card-hover {
    @apply hover:bg-gray-800/50 transition-colors;
  }

  /* Focus Ring */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-950;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   PWA SPECIFIC
   ───────────────────────────────────────────────────────────────────────────────── */

/* Standalone PWA Mode */
@media (display-mode: standalone) {
  body {
    overscroll-behavior-y: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Disable text selection on interactive elements */
  button, a, input, textarea {
    -webkit-tap-highlight-color: transparent;
  }
}

/* iOS Specific */
@supports (-webkit-touch-callout: none) {
  body {
    /* Prevent pull-to-refresh */
    overscroll-behavior-y: none;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   ANIMATIONS
   ───────────────────────────────────────────────────────────────────────────────── */

/* Fade In */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Slide Up */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

/* Slide Down */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out;
}

/* Pulse Slow */
@keyframes pulseSlow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.animate-pulse-slow {
  animation: pulseSlow 3s ease-in-out infinite;
}

/* Spin */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin 2s linear infinite;
}
